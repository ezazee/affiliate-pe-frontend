(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,69638,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},15288,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(75157);let r=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));r.displayName="Card";let n=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...a}));n.displayName="CardHeader";let i=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("h3",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));i.displayName="CardTitle",a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("p",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",e),...a})).displayName="CardDescription";let l=a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",e),...a}));l.displayName="CardContent",a.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter",e.s(["Card",()=>r,"CardContent",()=>l,"CardHeader",()=>n,"CardTitle",()=>i])},87486,2747,e=>{"use strict";var t=e.i(43476),a=e.i(25913),s=e.i(75157);let r=(0,a.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:a,...n}){return(0,t.jsx)("div",{className:(0,s.cn)(r({variant:a}),e),...n})}function i({className:e,...a}){return(0,t.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-muted",e),...a})}e.s(["Badge",()=>n],87486),e.s(["Skeleton",()=>i],2747)},43531,e=>{"use strict";let t=(0,e.i(75254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},55436,e=>{"use strict";let t=(0,e.i(75254).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],55436)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},73884,e=>{"use strict";let t=(0,e.i(75254).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],73884)},48425,e=>{"use strict";var t=e.i(71645),a=e.i(74080),s=e.i(91918),r=e.i(43476),n=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let n=(0,s.createSlot)(`Primitive.${a}`),i=t.forwardRef((e,t)=>{let{asChild:s,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(s?n:a,{...i,ref:t})});return i.displayName=`Primitive.${a}`,{...e,[a]:i}},{});function i(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>n,"dispatchDiscreteCustomEvent",()=>i])},93479,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(75157);let r=a.forwardRef(({className:e,type:a,...r},n)=>(0,t.jsx)("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));r.displayName="Input",e.s(["Input",()=>r])},10204,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(48425),r=a.forwardRef((e,a)=>(0,t.jsx)(s.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label";var n=e.i(25913),i=e.i(75157);let l=(0,n.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(r,{ref:s,className:(0,i.cn)(l(),e),...a}));o.displayName=r.displayName,e.s(["Label",()=>o],10204)},86536,e=>{"use strict";let t=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},76639,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(81140),r=e.i(20783),n=e.i(30030),i=e.i(10772),l=e.i(69340),o=e.i(26330),d=e.i(65491),c=e.i(74606),u=e.i(34620),m=e=>{var t;let s,n,{present:i,children:l}=e,o=function(e){var t,s;let[r,n]=a.useState(),i=a.useRef(null),l=a.useRef(e),o=a.useRef("none"),[d,c]=(t=e?"mounted":"unmounted",s={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},a.useReducer((e,t)=>s[e][t]??e,t));return a.useEffect(()=>{let e=p(i.current);o.current="mounted"===d?e:"none"},[d]),(0,u.useLayoutEffect)(()=>{let t=i.current,a=l.current;if(a!==e){let s=o.current,r=p(t);e?c("MOUNT"):"none"===r||t?.display==="none"?c("UNMOUNT"):a&&s!==r?c("ANIMATION_OUT"):c("UNMOUNT"),l.current=e}},[e,c]),(0,u.useLayoutEffect)(()=>{if(r){let e,t=r.ownerDocument.defaultView??window,a=a=>{let s=p(i.current).includes(a.animationName);if(a.target===r&&s&&(c("ANIMATION_END"),!l.current)){let a=r.style.animationFillMode;r.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===r.style.animationFillMode&&(r.style.animationFillMode=a)})}},s=e=>{e.target===r&&(o.current=p(i.current))};return r.addEventListener("animationstart",s),r.addEventListener("animationcancel",a),r.addEventListener("animationend",a),()=>{t.clearTimeout(e),r.removeEventListener("animationstart",s),r.removeEventListener("animationcancel",a),r.removeEventListener("animationend",a)}}c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:a.useCallback(e=>{i.current=e?getComputedStyle(e):null,n(e)},[])}}(i),d="function"==typeof l?l({present:o.isPresent}):a.Children.only(l),c=(0,r.useComposedRefs)(o.ref,(t=d,(n=(s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in s&&s.isReactWarning)?t.ref:(n=(s=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in s&&s.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof l||o.isPresent?a.cloneElement(d,{ref:c}):null};function p(e){return e?.animationName||"none"}m.displayName="Presence";var f=e.i(48425),x=e.i(3536),g=e.i(85369),h=e.i(86312),v=e.i(91918),N="Dialog",[y,j]=(0,n.createContextScope)(N),[b,C]=y(N),w=e=>{let{__scopeDialog:s,children:r,open:n,defaultOpen:o,onOpenChange:d,modal:c=!0}=e,u=a.useRef(null),m=a.useRef(null),[p,f]=(0,l.useControllableState)({prop:n,defaultProp:o??!1,onChange:d,caller:N});return(0,t.jsx)(b,{scope:s,triggerRef:u,contentRef:m,contentId:(0,i.useId)(),titleId:(0,i.useId)(),descriptionId:(0,i.useId)(),open:p,onOpenChange:f,onOpenToggle:a.useCallback(()=>f(e=>!e),[f]),modal:c,children:r})};w.displayName=N;var S="DialogTrigger",D=a.forwardRef((e,a)=>{let{__scopeDialog:n,...i}=e,l=C(S,n),o=(0,r.useComposedRefs)(a,l.triggerRef);return(0,t.jsx)(f.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":X(l.open),...i,ref:o,onClick:(0,s.composeEventHandlers)(e.onClick,l.onOpenToggle)})});D.displayName=S;var R="DialogPortal",[k,I]=y(R,{forceMount:void 0}),O=e=>{let{__scopeDialog:s,forceMount:r,children:n,container:i}=e,l=C(R,s);return(0,t.jsx)(k,{scope:s,forceMount:r,children:a.Children.map(n,e=>(0,t.jsx)(m,{present:r||l.open,children:(0,t.jsx)(c.Portal,{asChild:!0,container:i,children:e})}))})};O.displayName=R;var P="DialogOverlay",E=a.forwardRef((e,a)=>{let s=I(P,e.__scopeDialog),{forceMount:r=s.forceMount,...n}=e,i=C(P,e.__scopeDialog);return i.modal?(0,t.jsx)(m,{present:r||i.open,children:(0,t.jsx)(A,{...n,ref:a})}):null});E.displayName=P;var T=(0,v.createSlot)("DialogOverlay.RemoveScroll"),A=a.forwardRef((e,a)=>{let{__scopeDialog:s,...r}=e,n=C(P,s);return(0,t.jsx)(g.RemoveScroll,{as:T,allowPinchZoom:!0,shards:[n.contentRef],children:(0,t.jsx)(f.Primitive.div,{"data-state":X(n.open),...r,ref:a,style:{pointerEvents:"auto",...r.style}})})}),M="DialogContent",F=a.forwardRef((e,a)=>{let s=I(M,e.__scopeDialog),{forceMount:r=s.forceMount,...n}=e,i=C(M,e.__scopeDialog);return(0,t.jsx)(m,{present:r||i.open,children:i.modal?(0,t.jsx)(_,{...n,ref:a}):(0,t.jsx)(L,{...n,ref:a})})});F.displayName=M;var _=a.forwardRef((e,n)=>{let i=C(M,e.__scopeDialog),l=a.useRef(null),o=(0,r.useComposedRefs)(n,i.contentRef,l);return a.useEffect(()=>{let e=l.current;if(e)return(0,h.hideOthers)(e)},[]),(0,t.jsx)($,{...e,ref:o,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,s.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),i.triggerRef.current?.focus()}),onPointerDownOutside:(0,s.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,s.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),L=a.forwardRef((e,s)=>{let r=C(M,e.__scopeDialog),n=a.useRef(!1),i=a.useRef(!1);return(0,t.jsx)($,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));let a=t.target;r.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),$=a.forwardRef((e,s)=>{let{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:c,...u}=e,m=C(M,n),p=a.useRef(null),f=(0,r.useComposedRefs)(s,p);return(0,x.useFocusGuards)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.FocusScope,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:l,onUnmountAutoFocus:c,children:(0,t.jsx)(o.DismissableLayer,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":X(m.open),...u,ref:f,onDismiss:()=>m.onOpenChange(!1)})}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z,{titleId:m.titleId}),(0,t.jsx)(J,{contentRef:p,descriptionId:m.descriptionId})]})]})}),U="DialogTitle",B=a.forwardRef((e,a)=>{let{__scopeDialog:s,...r}=e,n=C(U,s);return(0,t.jsx)(f.Primitive.h2,{id:n.titleId,...r,ref:a})});B.displayName=U;var H="DialogDescription",z=a.forwardRef((e,a)=>{let{__scopeDialog:s,...r}=e,n=C(H,s);return(0,t.jsx)(f.Primitive.p,{id:n.descriptionId,...r,ref:a})});z.displayName=H;var W="DialogClose",V=a.forwardRef((e,a)=>{let{__scopeDialog:r,...n}=e,i=C(W,r);return(0,t.jsx)(f.Primitive.button,{type:"button",...n,ref:a,onClick:(0,s.composeEventHandlers)(e.onClick,()=>i.onOpenChange(!1))})});function X(e){return e?"open":"closed"}V.displayName=W;var q="DialogTitleWarning",[K,G]=(0,n.createContext)(q,{contentName:M,titleName:U,docsSlug:"dialog"}),Z=({titleId:e})=>{let t=G(q),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return a.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},J=({contentRef:e,descriptionId:t})=>{let s=G("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s.contentName}}.`;return a.useEffect(()=>{let a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Q=e.i(37727),Y=e.i(75157);let ee=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(E,{ref:s,className:(0,Y.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));ee.displayName=E.displayName;let et=a.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsxs)(O,{children:[(0,t.jsx)(ee,{}),(0,t.jsxs)(F,{ref:r,className:(0,Y.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[a,(0,t.jsxs)(V,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[(0,t.jsx)(Q.X,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));et.displayName=F.displayName;let ea=({className:e,...a})=>(0,t.jsx)("div",{className:(0,Y.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});ea.displayName="DialogHeader";let es=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(B,{ref:s,className:(0,Y.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));es.displayName=B.displayName,a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(z,{ref:s,className:(0,Y.cn)("text-sm text-muted-foreground",e),...a})).displayName=z.displayName,e.s(["Dialog",()=>w,"DialogContent",()=>et,"DialogHeader",()=>ea,"DialogTitle",()=>es,"DialogTrigger",()=>D],76639)},63116,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(46932),r=e.i(55436),n=e.i(86536),i=e.i(69638),l=e.i(73884),o=e.i(3116),d=e.i(1928),c=e.i(19455),u=e.i(93479),m=e.i(87486),p=e.i(15288),f=e.i(76639),x=e.i(67489),g=e.i(10204),h=e.i(46696),v=e.i(2747);function N(){let[e,N]=(0,a.useState)([]),[y,j]=(0,a.useState)([]),[b,C]=(0,a.useState)(!0),[w,S]=(0,a.useState)(""),[D,R]=(0,a.useState)("all"),[k,I]=(0,a.useState)(null),[O,P]=(0,a.useState)("");(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/admin/orders"),t=await fetch("/api/admin/products");if(e.ok&&t.ok){let a=await e.json(),s=await t.json();N(a),j(s)}else h.toast.error("Failed to load orders or products.")}catch(e){console.error("Failed to fetch orders or products:",e),h.toast.error("An error occurred while loading data.")}finally{C(!1)}})()},[]);let E=e=>y.find(t=>t._id?.toString()===e),T=e.filter(e=>{let t=e.buyerName.toLowerCase().includes(w.toLowerCase())||e.affiliateName.toLowerCase().includes(w.toLowerCase()),a="all"===D||e.status===D;return t&&a}),A=(e,t)=>{N(a=>a.map(a=>a._id?.toString()===e?{...a,status:t}:a)),h.toast.success(`Order marked as ${t}`),I(null)},M={total:e.length,pending:e.filter(e=>"pending"===e.status).length,paid:e.filter(e=>"paid"===e.status).length,revenue:e.filter(e=>"paid"===e.status).reduce((e,t)=>{let a=E(t.productId);return e+(a?.price||0)+(t.shippingCost||0)},0)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-display font-bold text-foreground mb-2",children:"Orders"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage customer orders and payments"})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Total Orders",value:M.total,color:"bg-primary/10 text-primary"},{label:"Pending",value:M.pending,color:"bg-accent/10 text-accent-foreground"},{label:"Paid",value:M.paid,color:"bg-success/10 text-success"},{label:"Revenue",value:`$${M.revenue}`,color:"gradient-primary text-primary-foreground"}].map(e=>(0,t.jsxs)("div",{className:`rounded-xl p-4 ${e.color}`,children:[(0,t.jsx)("p",{className:"text-2xl font-display font-bold",children:e.value}),(0,t.jsx)("p",{className:"text-sm opacity-80",children:e.label})]},e.label))}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,t.jsx)(r.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(u.Input,{placeholder:"Search by buyer or affiliator...",value:w,onChange:e=>S(e.target.value),className:"pl-10"})]}),(0,t.jsxs)(x.Select,{value:D,onValueChange:R,children:[(0,t.jsx)(x.SelectTrigger,{className:"w-[180px]",children:(0,t.jsx)(x.SelectValue,{placeholder:"Filter by status"})}),(0,t.jsxs)(x.SelectContent,{children:[(0,t.jsx)(x.SelectItem,{value:"all",children:"All Status"}),(0,t.jsx)(x.SelectItem,{value:"pending",children:"Pending"}),(0,t.jsx)(x.SelectItem,{value:"paid",children:"Paid"}),(0,t.jsx)(x.SelectItem,{value:"cancelled",children:"Cancelled"})]})]})]}),b?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(v.Skeleton,{className:"h-24"}),(0,t.jsx)(v.Skeleton,{className:"h-24"}),(0,t.jsx)(v.Skeleton,{className:"h-24"})]}):(0,t.jsx)("div",{className:"space-y-4",children:T.map((e,a)=>{var r;let d=E(e.productId);return(0,t.jsx)(s.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.05*a},children:(0,t.jsx)(p.Card,{className:"shadow-card hover:shadow-card-hover transition-all duration-300",children:(0,t.jsx)(p.CardContent,{className:"p-5",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-foreground",children:e.buyerName}),(0,t.jsxs)(m.Badge,{className:`${{pending:"bg-accent/20 text-accent-foreground",paid:"bg-success/20 text-success",cancelled:"bg-destructive/20 text-destructive"}[e.status]} flex items-center gap-1`,children:[(r=e.status,({pending:(0,t.jsx)(o.Clock,{className:"w-3 h-3"}),paid:(0,t.jsx)(i.CheckCircle,{className:"w-3 h-3"}),cancelled:(0,t.jsx)(l.XCircle,{className:"w-3 h-3"})})[r]),e.status]})]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Product: ",(0,t.jsx)("span",{className:"text-foreground",children:d?.name})]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Affiliator: ",(0,t.jsx)("span",{className:"text-foreground",children:e.affiliateName})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-2xl font-display font-bold text-primary",children:["$",d?.price||0]}),e.shippingCost&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["+ $",e.shippingCost," shipping"]})]}),(0,t.jsxs)(c.Button,{size:"sm",variant:"outline",onClick:()=>I(e),children:[(0,t.jsx)(n.Eye,{className:"w-4 h-4 mr-1"}),"View"]})]})]})})})},e._id?.toString())})}),!b&&0===T.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(d.ShoppingCart,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"No orders found"})]}),(0,t.jsx)(f.Dialog,{open:!!k,onOpenChange:()=>I(null),children:(0,t.jsxs)(f.DialogContent,{className:"sm:max-w-lg",children:[(0,t.jsx)(f.DialogHeader,{children:(0,t.jsx)(f.DialogTitle,{className:"font-display",children:"Order Details"})}),k&&(0,t.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Buyer Name"}),(0,t.jsx)("p",{className:"font-medium",children:k.buyerName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Phone"}),(0,t.jsx)("p",{className:"font-medium",children:k.buyerPhone})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Shipping Address"}),(0,t.jsxs)("p",{className:"font-medium",children:[k.shippingAddress,", ",k.city,", ",k.province," ",k.postalCode]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Product"}),(0,t.jsx)("p",{className:"font-medium",children:E(k.productId)?.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Affiliator"}),(0,t.jsx)("p",{className:"font-medium",children:k.affiliateName})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 items-end p-4 bg-secondary rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)(g.Label,{htmlFor:"shipping",children:"Shipping Cost ($)"}),(0,t.jsx)(u.Input,{id:"shipping",type:"number",value:O,onChange:e=>P(e.target.value),placeholder:String(k.shippingCost||0)})]}),(0,t.jsx)(c.Button,{onClick:()=>{var e;return e=k._id.toString(),void(O&&(N(t=>t.map(t=>t._id?.toString()===e?{...t,shippingCost:Number(O)}:t)),h.toast.success("Shipping cost updated"),P("")))},children:"Set"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:["pending"===k.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(c.Button,{className:"flex-1",onClick:()=>A(k._id.toString(),"paid"),children:[(0,t.jsx)(i.CheckCircle,{className:"w-4 h-4 mr-2"}),"Mark as Paid"]}),(0,t.jsxs)(c.Button,{variant:"outline",className:"flex-1 text-destructive",onClick:()=>A(k._id.toString(),"cancelled"),children:[(0,t.jsx)(l.XCircle,{className:"w-4 h-4 mr-2"}),"Cancel"]})]}),"pending"!==k.status&&(0,t.jsx)(c.Button,{variant:"outline",className:"flex-1",onClick:()=>I(null),children:"Close"})]})]})]})})]})}e.s(["default",()=>N])}]);